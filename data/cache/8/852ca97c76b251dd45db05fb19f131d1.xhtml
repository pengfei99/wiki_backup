
<h1 class="sectionedit1" id="statistic_route">Statistic route</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Statistic route&quot;,&quot;hid&quot;:&quot;statistic_route&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-31&quot;} -->
<h2 class="sectionedit2" id="introduction">Introduction</h2>
<div class="level2">

<p>
Let us use the following sample network architecture for the rest of the examples.
</p>

<p>
In the diagram below, we have 2 individual networks ( 192.168.1.0 and 192.168.3.0, with subnet mask of 255.255.255.0 ).
</p>

<p>
We also have a “GATEWAY” machine with 3 network cards. 1st card is connected to 192.168.1.0, 2nd card is connected to 192.168.3.0, and the 3rd card is connected to the external world.
</p>

<p>
<a href="/lib/exe/detail.php?id=employes%3Apengfei.liu%3Aadmin_system%3Anetwork%3Astatistic_route&amp;media=employes:pengfei.liu:admin_system:network:route-command.png" class="media" title="employes:pengfei.liu:admin_system:network:route-command.png"><img src="/lib/exe/fetch.php?w=400&amp;tok=a7b05c&amp;media=employes:pengfei.liu:admin_system:network:route-command.png" class="media" alt="" width="400" /></a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Introduction&quot;,&quot;hid&quot;:&quot;introduction&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;32-522&quot;} -->
<h2 class="sectionedit3" id="introduction_of_route_command">Introduction of route command</h2>
<div class="level2">

<p>
Route command is used to show/manipulate the IP routing table. It&#039;s primarily used to setup static routes to specific host or networks via an interface.
</p>
<pre class="code"># route shows the details of the kernel routing table entries
[root@host-134-158-37-11 pliu]$ route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         Lyon-COREA.in2p 0.0.0.0         UG    100    0        0 eth0
134.158.37.0    0.0.0.0         255.255.255.0   U     100    0        0 eth0
169.254.169.254 134.158.37.237  255.255.255.255 UGH   100    0        0 eth0

# to view the real ip address of the server instead of the server name
[root@host-134-158-37-11 pliu]$ route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         134.158.37.254  0.0.0.0         UG    100    0        0 eth0
134.158.37.0    0.0.0.0         255.255.255.0   U     100    0        0 eth0
169.254.169.254 134.158.37.237  255.255.255.255 UGH   100    0        0 eth0

# Kernel maintains the routing cache information to route the packets faster. We can list the kernel’s routing cache information by using the -C flag.
</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Introduction of route command&quot;,&quot;hid&quot;:&quot;introduction_of_route_command&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;523-1769&quot;} -->
<h3 class="sectionedit4" id="add_a_default_gateway">Add a default gateway</h3>
<div class="level3">
<pre class="code">route add default gw 192.168.1.10</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Add a default gateway&quot;,&quot;hid&quot;:&quot;add_a_default_gateway&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:4,&quot;range&quot;:&quot;1770-1855&quot;} -->
<h2 class="sectionedit5" id="make_1921683_accessible_from_1921681">Make 192.168.3.* Accessible from 192.168.1.*</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Make 192.168.3.* Accessible from 192.168.1.*&quot;,&quot;hid&quot;:&quot;make_1921683_accessible_from_1921681&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:5,&quot;range&quot;:&quot;1856-1915&quot;} -->
<h2 class="sectionedit6" id="client_ssh_config">Client ssh config</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Client ssh config&quot;,&quot;hid&quot;:&quot;client_ssh_config&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:6,&quot;range&quot;:&quot;1916-&quot;} -->