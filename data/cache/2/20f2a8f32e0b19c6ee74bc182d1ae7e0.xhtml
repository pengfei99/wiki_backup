
<h1 class="sectionedit1" id="travailler_avec_la_base_de_donnees">Travailler avec la base de données</h1>
<div class="level1">
<pre class="code">  $ vim src/AppBundle/Resources/config/schema.xml</pre>
<dl class="code">
<dt><a href="/_export/code/informatique/developpement/symfony/travailler_avec_une_base_de_donnees?codeblock=0" title="Télécharger un extrait" class="mediafile mf_xml">src/AppBundle/Resources/config/schema.xml</a></dt>
<dd><pre class="code xml"><span class="sc3"><span class="re1">&lt;?xml</span> <span class="re0">version</span>=<span class="st0">&quot;1.0&quot;</span> <span class="re0">encoding</span>=<span class="st0">&quot;UTF-8&quot;</span><span class="re2">?&gt;</span></span>
<span class="sc3"><span class="re1">&lt;database</span> <span class="re0">name</span>=<span class="st0">&quot;default&quot;</span> <span class="re0">namespace</span>=<span class="st0">&quot;AppBundle\Model&quot;</span> <span class="re0">defaultIdMethod</span>=<span class="st0">&quot;native&quot;</span><span class="re2">&gt;</span></span>
&nbsp;
    <span class="sc3"><span class="re1">&lt;table</span> <span class="re0">name</span>=<span class="st0">&quot;user&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;column</span> <span class="re0">name</span>=<span class="st0">&quot;id&quot;</span> <span class="re0">type</span>=<span class="st0">&quot;integer&quot;</span> <span class="re0">required</span>=<span class="st0">&quot;true&quot;</span> <span class="re0">primaryKey</span>=<span class="st0">&quot;true&quot;</span> <span class="re0">autoIncrement</span>=<span class="st0">&quot;true&quot;</span> <span class="re2">/&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;column</span> <span class="re0">name</span>=<span class="st0">&quot;first_name&quot;</span> <span class="re0">type</span>=<span class="st0">&quot;varchar&quot;</span> <span class="re0">size</span>=<span class="st0">&quot;100&quot;</span> <span class="re2">/&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;column</span> <span class="re0">name</span>=<span class="st0">&quot;last_name&quot;</span> <span class="re0">type</span>=<span class="st0">&quot;varchar&quot;</span> <span class="re0">size</span>=<span class="st0">&quot;100&quot;</span> <span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;/table<span class="re2">&gt;</span></span></span>
&nbsp;
<span class="sc3"><span class="re1">&lt;/database<span class="re2">&gt;</span></span></span></pre>
</dd></dl>
<pre class="code">  $ php app/console propel:model:build
  &gt;&gt;        AppBundle    Generated model classes from schema.xml
  $ php app/console propel:migration:generate-diff
  …
  &quot;PropelMigration_1426166067.php&quot; file successfully created in […] /app/propel/migrations
  …
  $ php app/console propel:migration:status
  $ php app/console propel:migration:migrate</pre>

<p>
Pensez à <code>commit</code> le schéma et le code généré dans <code>app/propel/migrations/</code> et <code>src/AppBundle/Model/</code>.
</p>
<pre class="code">  $ bzr add app/propel/migrations src/AppBundle/Model
  $ bzr ci -m &quot;Modification des modèles&quot;</pre>

</div>
